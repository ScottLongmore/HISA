{
  "files":{
    "pools":{
      "mirs_atms_img":"etc/mirs_atms_img.ini"
    }
  },
  "inputs":{ 
    "module":"NDE",
    "method":"getInput",
    "file":"MIRS_TC.PCF"
  },
  "logging":{
    "file":"MIRS_TC.LOG"
  },
  "datetimes":{},
  "dirs":{
    "data":"data",
    "discard":"discard",
    "model":"model",
    "log":"log",
    "pool":"pool",
    "output":"output"
  },
  "datasets":{
    "adeck":{
      "inputKey":"adeck_input",
      "module":"ADECK",
      "dataMethod":"adeck",
      "filterMethod":"latestAdecks",
      "recordREs":['^.*CARQ.*$','^.*OFCL.*$','^.*OFCI.*$','^.*TABM.*$','^.*JTWC.*$','^.*JTWI.*$','^.*MBAM.*$']
    },
    "gfs":{
      "inputKey":"gfs_input",
      "module":"GFS",
      "dataMethod":"gfs",
      "filterMethod":"latestGFS"
      "gfsFV3flag":true
    },
    "mirs_atms_img":{
      "inputKey":"mirs_img_input",
      "module":"ATMS",
      "dataMethod":"atms",
      "datalink":"atms",
      "filterMethod":"filterAtms",
      "variables":["ScanLine_Center_Time","ScanLine_Center_Lat","ScanLine_Center_Lon", "Latitude","Longitude","Qc","TPW","LWP"]
    },
    "mirs_atms_snd":{
      "inputKey":"mirs_snd_input",
      "module":"ATMS",
      "dataMethod":"atms",
      "datalink":"atms",
      "filterMethod":"filterAtms",
      "variables":["PTemp", "PVapor"],
      "shared_variables":["Player"]
    }
  },
  "datalinks":{
    "atms":{
      "datasetKeys":{
        "mirs_atms_img":"startDT",
        "mirs_atms_snd":"startDT"
      }
    }
  },
  "satellites":{
    "snpp":{
      "instrument":"atms",
      "ident":"SNP001",
      "productId":"npp",
      "pool":{
        "config":{"$ref":"#/files/pool/mirs_atms_img"},
        "dataset":"mirs_atms_img",
        "datasets":["mirs_atms_snd"],
        "query":{
          "width_lon":28,
          "height_lat":28
        },
        "packed_variables":{
          "LWP":{
            "scale":0.01,
            "offset":0.0,
            "lowThresh":0.0,
            "highThresh":500.0,
            "inputMissing":-999.0,
            "outputMissing":-999.0
          },
          "TPW":{
            "scale":0.1,
            "offset":0.0,
            "lowThresh":0.0,
            "highThresh":500.0,
            "inputMissing":-999.0,
            "outputMissing":-999.0
          }
        }
      }
    }
  },
  "programs":{
    "bin2pack":{
      "exe":"bin/bin2pack.x"
    },
    "shortTermTrack":{
      "exe":"bin/ShortTermTrack_mirs.x"
    },
    "afdeck":{
      "exe":"bin/afdeck.x",
      "outputs":{
        "coordFile":"COORDINATES"
      }
    },
    "satcenter":{
      "exe":"bin/satcenter.x",
      "timeFile":"ScanLine_Center_Time.txt",
      "inputs":{
        "coordFile":"COORDINATES",
        "mirs":["years.txt","months.txt","days.txt","hours.txt","minutes.txt","seconds.txt","Scanline_Center_Lat.txt","Scanline_Center_Lon.txt"]
      },
      "outputs":{
        "timesFile":"TIMES"
      }
    },
    "oparet":{
      "exe":"bin/oparet.x",
      "configs":{
        "oparet":"etc/oparet/oparet.cfg",
        "coeffsDir":"etc/oparet/coeffs"
      },
      "inputs":{
        "param":"oparet_params.cfg",
        "coeffs":["pmn_atms0.inp.coef","r34_atms0.inp.coef","r50_atms0.inp.coef","r64_atms0.inp.coef","vmx_atms0.inp.coef"],
        "COORTIMES":"COORTIMES",
        "gfsPackFile":"AVN.DAT",
        "mirs":{
          "Qc.txt":"qc.txt",
          "Latitude.txt":"latitude.txt",
          "Longitude.txt":"longitude.txt",
          "Player.txt":"pressure_layers.txt",
          "PTemp.txt":"temperature_profile.txt",
          "PVapor.txt":"water_vapor_profile.txt",
          "TPW.txt":"tpw.txt",
          "LWP.txt":"liquid_water_path.txt"
        }
      },
      "outputs":{
        "exts":{
          "AFX":".AFX",
          "XYA":".XYA",
          "RZA":".RZA",
          "FIX":".FIX",
          "LOC":".LOC"
        },
        "LOG":"oparet.log"
      }
    }, 
    "convert2NetCDF":{
      "exe":"scripts/python/convert/convert2netCDF.py",
      "configs":{
         "XYA":"etc/convert/xya2netCDF.json",
         "RZA":"etc/convert/rza2netCDF.json"
       }
    },
    "plot":{
      "exe":"scripts/python/plot/main_read_plot_xya.py",
      "configs":{
         "plot":"etc/plot/plots_config.txt"
      },
      "outputs":{
        "plotRE":"^(?P<sat>\\w+)_(?P<var>\\w+)_(?P<instr>\\w+)_(?P<level>\\w+).(?P<ext>png)$"
      }
    }
  },
  "products":{
    "ident":"TC",
    "version":"v2r0",
    "DTFormat":"%Y%m%d%H%M%S0",
    "outputFile":"MIRS_TC.PSF"
  },
  "exts":{
    "txt":"txt",
    "png":"png"
  },
  "schemas":{
    "inputs":{
      "$schema": "http://json-schema.org/draft-04/schema#",
      "type":"object",
      "properties": {
        "SYS_DIR":{ "type":"string" },
        "PYTHON":{"type":"string"},
        "WGRIB":{"type":"string"},
        "TAR":{"type":"string"},
        "adeck_input":{"type":["string","array"],"minItems":1,"items":{"type":"string"}},
        "gfs_input":{"type":["string","array"],"minItems":1,"items":{"type":"string"}},
        "mirs_snd_input":{"type":"array","minItems":1,"items":{"type":"string"}},
	"mirs_img_input":{"type":"array","minItems":1,"items":{"type":"string"}}
      }
    }
  }
}
